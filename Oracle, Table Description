SELECT  A.OWNER
     ,  A.TABLE_NAME AS "T_NAME"
     , B.COMMENTS AS "T_DESC"
     ,  A.COLUMN_ID AS "ID"
     ,  A.COLUMN_NAME AS "C_NAME"
     ,  C.COMMENTS AS "C_DESC"
--     , A.DATA_TYPE AS "D_TYPE"
--     , A.DATA_LENGTH AS "LENGTH"
--     , A.DATA_PRECISION AS "PRECISION"
--     , A.DATA_SCALE AS "SCALE"
     ,  A.DATA_TYPE ||
        CASE WHEN A.DATA_TYPE = 'CHAR' THEN '(' || TO_CHAR(A.DATA_LENGTH) || ')'
             WHEN A.DATA_TYPE = 'VARCHAR' THEN '(' || TO_CHAR(A.DATA_LENGTH) || ')'
             WHEN A.DATA_TYPE = 'VARCHAR2' THEN '(' || TO_CHAR(A.DATA_LENGTH) || ')'
             WHEN A.DATA_TYPE = 'NUMBER' AND A.DATA_PRECISION IS NULL AND A.DATA_SCALE IS NULL THEN ''
             WHEN A.DATA_TYPE = 'NUMBER' THEN '(' || TO_CHAR(A.DATA_PRECISION) || ',' || TO_CHAR(A.DATA_SCALE) || ')'
             WHEN A.DATA_TYPE = 'DATE' THEN ''
             WHEN A.DATA_TYPE = 'TIMESTAMP' THEN ''
             ELSE ''
        END AS "D_TYPE2"
--     , A.DATA_DEFAULT AS "DEFAULT"
     ,  DECODE(A.NULLABLE,'N','NN','') AS "NN"
     ,  D.COLUMN_POSITION AS PK
  FROM  ALL_TAB_COLUMNS A
        LEFT OUTER JOIN ALL_TAB_COMMENTS B
          ON  A.OWNER = B.OWNER
          AND A.TABLE_NAME = B.TABLE_NAME
        LEFT OUTER JOIN ALL_COL_COMMENTS C
          ON  A.OWNER = C.OWNER
          AND A.TABLE_NAME = C.TABLE_NAME
          AND A.COLUMN_NAME = C.COLUMN_NAME
        LEFT OUTER JOIN ALL_IND_COLUMNS D
         ON   A.OWNER = D.TABLE_OWNER
         AND A.TABLE_NAME = D.TABLE_NAME
         AND A.COLUMN_NAME = D.COLUMN_NAME
         AND D.INDEX_NAME = A.TABLE_NAME || '_U1' -- PK Postfix
WHERE   A.TABLE_NAME = UPPER('&TABLE_NAME')
ORDER   BY  COLUMN_ID


/*
SELECT  A.OWNER
     ,  A.TABLE_NAME
     ,  B.COMMENTS AS TABLE_DESC
     ,  A.COLUMN_ID AS "ID"
     ,  A.COLUMN_NAME
     ,  C.COMMENTS AS COLUMN_DESC
     ,  A.DATA_TYPE AS "TYPE"
     ,  DECODE(A.DATA_TYPE,'CHAR'    ,TO_CHAR(A.DATA_LENGTH)
                          ,'VARCHAR' ,TO_CHAR(A.DATA_LENGTH)
                          ,'VARCHAR2',TO_CHAR(A.DATA_LENGTH)
                          ,'NUMBER'  ,TO_CHAR(A.DATA_PRECISION) || ',' || TO_CHAR(A.DATA_SCALE)
                          ,'') AS "LENGTH"
     ,  A.DATA_DEFAULT AS "DEFAULT"
     ,  DECODE(A.NULLABLE,'N','Y','') AS "NN"
     ,  D.COLUMN_POSITION AS PK
  FROM  ALL_TAB_COLUMNS A
     ,  ALL_TAB_COMMENTS B
     ,  ALL_COL_COMMENTS C
     ,  ALL_IND_COLUMNS D
 WHERE  A.TABLE_NAME = UPPER('&TABLE_NAME')
   AND  A.OWNER = B.OWNER (+)
   AND  A.TABLE_NAME = B.TABLE_NAME (+)
   AND  A.OWNER = C.OWNER (+)
   AND  A.TABLE_NAME = C.TABLE_NAME (+)
   AND  A.COLUMN_NAME = C.COLUMN_NAME (+)
   AND  A.OWNER = D.TABLE_OWNER (+)
   AND  A.TABLE_NAME = D.TABLE_NAME (+)
   AND  A.COLUMN_NAME = D.COLUMN_NAME (+)
   AND  D.INDEX_NAME (+) = A.TABLE_NAME || '_PK' -- PK Postfix
 ORDER  BY  COLUMN_ID
*/
